<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>Search</title>

        <!-- Bootstrap core CSS -->
        <link href="/Library/WebServer/Documents/search/static/css/bootstrap.min.css" rel="stylesheet" />

        <!-- Font Awesome -->
        <link href="/Library/WebServer/Documents/search/static/css/font-awesome.min.css" rel="stylesheet" />

        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <link href="/Library/WebServer/Documents/search/static/css/ie10-viewport-bug-workaround.css" rel="stylesheet" />

        <!-- Custom styles for this template -->
        <link href="/Library/WebServer/Documents/search/static/css/cover.css" rel="stylesheet" />
        <link href="/Library/WebServer/Documents/search/static/css/search.css" rel="stylesheet" />

    </head>
    <body>



        <div class="cover-container">


            <input id="input_box" name="input_box" type="text" autocomplete="on" class="form-control oc-purple" placeholder="Search...">
            <div class="input-group-btn">
              <button id="search_btn" class="btn btn-default oc-purple" type="submit" ><i class="glyphicon glyphicon-search"></i></button>
            </div>

            <div class="cover">

                <!-- The search page skeleton -->
                <!--==========================-->
                <div id="search" class="search">
                  <div id="search_extra" class="search_extra"></div>
                  <div id="search_header" class="search-header">
                    <div id="rows_per_page"></div>
                    <div id="sort_results"></div>
                  </div>
                  <div id="search_body" class="search-body">
                    <div id="search_filters" class="search-filters">
                      <div id="limit_results"></div>
                      <div id="filter_btns"></div>
                      <div id="filter_values_list"></div>
                    </div>
                    <div id="search_results" class="search-results"></div>
                  </div>
                </div>
                <!--==========================-->

            </div>

        </div>


        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="/Library/WebServer/Documents/search/static/js/jquery.min.js"><![CDATA[ ]]></script>
        <script>window.jQuery || document.write('<script src="/static/js/jquery.min.js"><\/script>')</script>
        <script src="/Library/WebServer/Documents/search/static/js/bootstrap.min.js"><![CDATA[ ]]></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="/Library/WebServer/Documents/search/static/js/ie10-viewport-bug-workaround.js"><![CDATA[ ]]></script>

        <!--<script type="text/javascript" src="/Library/WebServer/Documents/search/static/js/search-conf.js"></script>-->
        <script type="text/javascript" src="/Library/WebServer/Documents/search/static/js/search-conf-wikidata.js"></script>
        <script type="text/javascript" src="/Library/WebServer/Documents/search/static/js/search.js"></script>

        <script>
        document.getElementById("search_btn").onclick = on_click;

          var search_doms = ["rows_per_page","sort_results","limit_results","filter_btns","filter_values_list","search_results"];
          function reset_doms() {
            for(var i=0; i<search_doms.length; i++) {
                var container = document.getElementById(search_doms[i]);
                container.innerHTML = "";
            }
          }

          function load_js()
           {
              var head= document.getElementsByTagName('head')[0];
              var script= document.createElement('script');
              script.type= 'text/javascript';
              script.src= "/Library/WebServer/Documents/search/static/js/search.js";
              head.appendChild(script);
           }

          function on_click() {
            //location.reload();
            //build_search_skeleton();
            load_js();
            reset_doms();
            console.log(document.getElementById("search"));
            var input_box = document.getElementById("input_box");
            if (input_box.value != "") {
                search.do_sparql_query(input_box.value);
            }else {
              search.do_sparql_query("");
            }
          }

        </script>

    </body>
</html>
